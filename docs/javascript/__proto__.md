---
title: __proto__和prototype的区别
date: 2022-11-13
categories:
 - 零碎点
tags:
 - js
---

## prototype和__proto__

### 隐式原型
在js中任意对象都有一个内置属性[[prototype]]，在es5之前没有标准方法访问这个属性，但是大多数的浏览器都支持通过`__proto__`来访问。即：每个对象都有`__proto__`属性。

### 显式原型
每个函数在创建之后都会有一个`prototype`属性，这个属性指向函数的原型对象，即：`prototype`是函数才会有的属性。

### __proto__的指向
`__proto__`的指向，根据ECMA的定义'to the value of its constructor’s "prototype" ' ---指向创建这个对象的函数的显式原型。
所以关键点还是在于找到创建这个对象的构造函数，在js中创建对象的方式
* 对象字面量的方式
* `new`的方式
* `Object.create()`

对象字面量的方式其实本质上也是使用`new`，只是让开发人员更方便创建对象，而`Object.create()`方法，道格拉斯在2006年介绍了一种实现继承的方法，该方法并没使用严格意义上的构造函数，他的想法是借助原型可以基于已有的对象创建新对象，如下：
```js
function create (o) {
    function F () {}
    F.prototype = o
    return new F()
}

```
所以，其实从代码实现上，都是使用的`new`关键字的方式

在js只，万物皆对象，方法(`Function`)是对象，方法的原型(`Function.prototype`)是对象，因此，它们都会具有共同的特点。即：对象具有属性`__proto__`，可称为隐式原型，一个对象的隐式原型指向构造该对象的构造函数的原型，这也保证了实例能够访问在构造函数原型中定义的属性和方法。

方法(`Function`)这个特殊的对象，除了和其它对象一样有上述`__proto__`属性之外，还有自己特有的属性---原型属性(`prototype`)，这个属性是一个指针，指向一个对象，这个对象的用途就是包含所有类型的实例共享的属性和方法(我们把这个对象叫做原型对象)，在默认情况下，该对象会自动获取一个`constructor`(构造函数)属性，这个属性包含一个指向`prototype`属性所在函数的指针。


